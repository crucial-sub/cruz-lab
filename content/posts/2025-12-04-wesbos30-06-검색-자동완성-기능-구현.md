---
title: "[wesbos30] 06. Í≤ÄÏÉâ ÏûêÎèôÏôÑÏÑ± Í∏∞Îä• Íµ¨ÌòÑ"
description: "javascriptÎ•º ÌôúÏö©ÌïòÏó¨ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Í≤ÄÏÉâÏ†ïÎ≥¥Î•º Î∞õÏïÑÏò§Ïûê!"
pubDate: "2025-12-04T11:44:02.273Z"
updatedDate: "2025-12-04T11:44:02.273Z"
heroImage: "https://firebasestorage.googleapis.com/v0/b/cruz-lab.firebasestorage.app/o/images%2Fheroes%2Fhero-1764848639126.webp?alt=media&token=37ef07aa-bfc9-43b0-8ddb-9336cf9b6d4b"
tags: ["javascript", "wesbos30"]
slug: "wesbos30-06-Í≤ÄÏÉâ-ÏûêÎèôÏôÑÏÑ±-Í∏∞Îä•-Íµ¨ÌòÑ"
readingTime: 3
isPublic: true
---

> üí° javascriptÎ•º ÌôúÏö©ÌïòÏó¨ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Í≤ÄÏÉâÏ†ïÎ≥¥Î•º Î∞õÏïÑÏò§Ïûê!

## Î°úÏßÅ

1. `fetch`Î°ú json Îç∞Ïù¥ÌÑ∞Î•º Î∞∞Ïó¥Ïóê Îã¥Í∏∞
2. ÏûÖÎ†•Ìïú Îã®Ïñ¥Í∞Ä Î∞∞Ïó¥ ÏïàÏóê ÏûàÎäîÏßÄ ÎπÑÍµêÌï¥ÏÑú Ï∞æÎäî Ìï®Ïàò ÏÉùÏÑ±
3. ÏùºÏπòÌïòÎäî Í≤∞Í≥ºÎ•º Î≥¥Ïó¨Ï£ºÎäî Ìï®Ïàò ÏÉùÏÑ±

***

## ÏΩîÎî© Í≥ºÏ†ï

### 1. json Îç∞Ïù¥ÌÑ∞ Î∞∞Ïó¥Ïóê Îã¥Í∏∞

```javascript
const endpoint =
  'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json'

const cities = []
fetch(endpoint)
  .then(res => res.json())
  .then(data => cities.push(...data))
```

#### json ÌååÏùº

<https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json>

![json](https://user-images.githubusercontent.com/87363422/156243679-fe6879a5-acaa-47ee-a4be-325d38782cea.png)

#### fetch

`fetch()`Îäî ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ÏóêÏÑú ÏÑúÎ≤ÑÏóê ÎÑ§Ìä∏ÏõåÌÅ¨ ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Í≥† ÏÉàÎ°úÏö¥ Ï†ïÎ≥¥Î•º Î∞õÏïÑÏò¨ Ïàò ÏûàÎèÑÎ°ù ÎèÑÏôÄÏ£ºÎäî Î©îÏÑúÎìúÏù¥Îã§.

```javascript
fetch(url, [options])

/* optionsÏóêÎäî ÏÑ†ÌÉù Îß§Í∞úÎ≥ÄÏàò, methodÎÇò header Îì±ÏùÑ ÏßÄÏ†ïÌï† Ïàò ÏûàÏúºÎ©∞,
optionsÏóê ÏïÑÎ¨¥Í≤ÉÎèÑ ÎÑòÍ∏∞ÏßÄ ÏïäÏúºÎ©¥ ÏöîÏ≤≠ÏùÄ GET Î©îÏÑúÎìúÎ°ú ÏßÑÌñâÎêòÏñ¥ urlÎ°úÎ∂ÄÌÑ∞ ÌååÏùºÏù¥ Îã§Ïö¥Î°úÎìúÎêúÎã§. */
```

`fetch()` Î©îÏÑúÎìúÎäî `HTTP response` Í∞ùÏ≤¥Î•º ÎûòÌïëÌïú `Promise` Í∞ùÏ≤¥Î•º Î∞òÌôòÌïòÍ≥†,
ÏöîÏ≤≠Ïù¥ ÏôÑÎ£åÎêòÎ©¥ `Promise`Í∞Ä resolved ÎêòÏñ¥ `response` Í∞ùÏ≤¥Í∞Ä Î∞òÌôòÎêúÎã§.

![res](https://user-images.githubusercontent.com/87363422/156243686-e4119fdc-ce56-4c6b-8ad9-a3e10eb85ad7.png)

response Í∞ùÏ≤¥Î•º Î∞òÌôòÎ∞õÎäîÎç∞ ÏÑ±Í≥µÌñàÏúºÎ©¥..

‚áí ÌõÑÏÜç Ï≤òÎ¶¨ Î©îÏÑúÎìúÏù∏ `then()`Í≥º
`response` Í∞ùÏ≤¥Î°úÎ∂ÄÌÑ∞ JSON ÌòïÌÉúÏùò Îç∞Ïù¥ÌÑ∞Î•º ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Í∞ùÏ≤¥Î°ú Î≥ÄÌôòÌï¥Ï£ºÎäî Î©îÏÑúÎìúÏù∏ `json()`Î•º ÏÇ¨Ïö©ÌïòÏó¨ json Îç∞Ïù¥ÌÑ∞Î•º ÏñªÏùÄ ÌõÑ

‚áí Í∑∏ Îç∞Ïù¥ÌÑ∞Î•º Î∞∞Ïó¥Ïóê Îã¥ÏïÑÏ§ÄÎã§.

### 2. Î∞∞Ïó¥ ÏïàÏóêÏÑú Îã®Ïñ¥ Ï∞æÍ∏∞

```javascript
function findMatches(wordToMatch, cities) {
  return cities.filter(place => {
    const regex = new RegExp(wordToMatch, 'gi')
    return place.city.match(regex) || place.state.match(regex)
  })
}
```

#### Ï†ïÍ∑ú ÌëúÌòÑÏãù RegExp

`RegExp` ÏÉùÏÑ±Ïûê Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÏó¨ Ï†ïÍ∑úÏãùÏùÑ ÎßåÎì§ Ïàò ÏûàÎã§.

```javascript
const regexp = new RegExp(ÌëúÌòÑÏãù, [ÌîåÎûòÍ∑∏])
```

ÌîåÎûòÍ∑∏Îäî ÌëúÌòÑÏãùÏùò ÏòµÏÖòÏúºÎ°ú ÌëúÌòÑÏãùÏúºÎ°ú Í≤ÄÏÉâÌïòÎ†§Îäî Î¨∏Ïûê Ìå®ÌÑ¥Ïóê Ï∂îÍ∞ÄÏ†ÅÏù∏ ÏòµÏÖòÏùÑ ÎÑ£Ïñ¥ ÏõêÌïòÎäî Î¨∏Ïûê Í≤ÄÏÉâ Í≤∞Í≥ºÎ•º Î∞òÌôòÌïòÎèÑÎ°ù Ìï† Ïàò ÏûàÎã§.

* **g(Global)**: Î¨∏ÏûêÏó¥ Ï†ÑÏ≤¥Î•º ÌôïÏù∏ÌïòÏó¨ ÏùºÏπòÌïòÎäî Î™®Îì† Í≤ÄÏÉâ Í≤∞Í≥ºÎ•º Î∞òÌôòÌïúÎã§. (g ÌîåÎûòÍ∑∏Í∞Ä ÏóÜÏúºÎ©¥ Îß® Ï≤òÏùå ÏùºÏπò Í≤∞Í≥ºÎßå Î∞òÌôò)

* **i(Ignore case)**: Î¨∏ÏûêÏó¥ÏóêÏÑú ÎåÄÏÜåÎ¨∏ÏûêÎ•º Íµ¨Î∂ÑÌïòÏßÄ ÏïäÎäîÎã§.

* **m**: Ï£ºÏñ¥ÏßÑ Î¨∏ÏûêÏó¥Ïóê Ï§ÑÎ∞îÍøàÏù¥ ÏûàÏùÑ Í≤ΩÏö∞, Ïó¨Îü¨ Ï§ÑÎ°ú Ï∑®Í∏âÌïòÏó¨ Í≤ÄÏÇ¨ÌïúÎã§.

* **s**: Î¨∏ÏûêÏó¥ÏóêÏÑú ÏûÑÏùòÏùò Ìïú Î¨∏ÏûêÎ•º Í∞ÄÎ¶¨ÌÇ§Îäî Î©îÌÉÄ Î¨∏ÏûêÏù∏ `.` Ïóê Í∞úÌñâÎ¨∏Ïûê(`\n`)ÎèÑ Ìè¨Ìï®ÏãúÌÇ§ÎèÑÎ°ù ÌïúÎã§. Ï¶â, `.`Ïù¥ Ï§ÑÎ∞îÍøàÎèÑ ÏûÑÏùòÏùò Ìïú Î¨∏ÏûêÎ°ú Ï∑®Í∏âÌïòÏó¨ Í≤ÄÏÉâÌïúÎã§.

* **y**: ÎåÄÏÉÅ Î¨∏ÏûêÏó¥Ïùò ÌòÑÏû¨ ÏúÑÏπòÎ∂ÄÌÑ∞ ÎπÑÍµêÎ•º ÏãúÏûëÌïòÎèÑÎ°ù ÏÑ§Ï†ïÌïúÎã§.

* **u**: Ïú†ÎãàÏΩîÎìú Ï†ÑÏ≤¥Î•º ÏßÄÏõêÌïúÎã§.

#### String.match(regexp)

`match()`Î©îÏÑúÎìúÎäî Î¨∏ÏûêÏó¥Ïù¥ Ï†ïÍ∑úÏãùÍ≥º Îß§ÏπòÎêòÎäî Î∂ÄÎ∂ÑÏùÑ¬†Í≤ÄÏÉâÌïòÏó¨ Î∞∞Ïó¥Î°ú Î∞òÌôòÌïúÎã§.

### 3. ÏùºÏπòÌïòÎäî Í≤∞Í≥º ÎÇòÌÉÄÎÇ¥Í∏∞

```javascript
function displayMatches() {
  const matchArray = findMatches(this.value, cities)
  const html = matchArray
    .map(place => {
      const regex = new RegExp(this.value, 'gi')
      const cityName = place.city.replace(
        regex,
        `<span¬†class="hl">${this.value}</span>`,
      )
      const stateName = place.state.replace(
        regex,
        `<span¬†class="hl">${this.value}</span>`,
      )
      return ` 
			<li> 
				<span¬†class="name">${cityName},¬†${stateName}</span> 
				<span¬†class="population">${numberWithCommas(place.population)}</span> 
			</li> 
		`
    })
    .join('')
  suggestions.innerHTML = html
}

function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')
}
```

***

## ÏµúÏ¢ÖÏΩîÎìú

```javascript
const endpoint =
  'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json'

const cities = []

fetch(endpoint)
  .then(res => res.json())
  .then(data => cities.push(...data))

/* then ÎåÄÏã† async awaitÎ•º Ïù¥Ïö©Ìïú Î∞©Ïãù
const getData = async () => {
  const a = await fetch(endpoint)
  const json = await (
    await fetch(endpoint)
  ).json();
  cities.push(...json)
}
getData()
*/

function findMatches(wordToMatch, cities) {
  return cities.filter(place => {
    // here we need to figure out if the city or state matches what was searched
    const regex = new RegExp(wordToMatch, 'gi')
    return place.city.match(regex) || place.state.match(regex)
  })
}

function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')
}

function displayMatches() {
  const matchArray = findMatches(this.value, cities)
  const html = matchArray
    .map(place => {
      const regex = new RegExp(this.value, 'gi')
      const cityName = place.city.replace(
        regex,
        `<span class="hl">${this.value}</span>`,
      )
      const stateName = place.state.replace(
        regex,
        `<span class="hl">${this.value}</span>`,
      )
      return `
      <li>
        <span class="name">${cityName}, ${stateName}</span>
        <span class="population">${numberWithCommas(place.population)}</span>
      </li>
    `
    })
    .join('')
  suggestions.innerHTML = html
}

const searchInput = document.querySelector('.search')
const suggestions = document.querySelector('.suggestions')

searchInput.addEventListener('change', displayMatches)
searchInput.addEventListener('keyup', displayMatches)
```
